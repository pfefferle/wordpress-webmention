(()=>{"use strict";const e=window.wp.richText,t=window.wp.blockEditor,l=window.wp.element,o=window.wp.components,a=window.wp.i18n,n=window.wp.primitives,i=window.ReactJSXRuntime;var s=(0,i.jsx)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,i.jsx)(n.Path,{d:"M16.5 7.5 10 13.9l-2.5-2.4-1 1 3.5 3.6 7.5-7.6z"})}),w=(0,i.jsx)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,i.jsx)(n.Path,{d:"m13.06 12 6.47-6.47-1.06-1.06L12 10.94 5.53 4.47 4.47 5.53 10.94 12l-6.47 6.47 1.06 1.06L12 13.06l6.47 6.47 1.06-1.06L13.06 12Z"})}),r=(0,i.jsx)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,i.jsx)(n.Path,{d:"M12 4a8 8 0 1 1 .001 16.001A8 8 0 0 1 12 4Zm0 1.5a6.5 6.5 0 1 0-.001 13.001A6.5 6.5 0 0 0 12 5.5Zm.75 11h-1.5V15h1.5v1.5Zm-.445-9.234a3 3 0 0 1 .445 5.89V14h-1.5v-1.25c0-.57.452-.958.917-1.01A1.5 1.5 0 0 0 12 8.75a1.5 1.5 0 0 0-1.5 1.5H9a3 3 0 0 1 3.305-2.984Z"})}),v=(0,i.jsx)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,i.jsx)(n.Path,{fillRule:"evenodd",d:"M9.706 8.646a.25.25 0 01-.188.137l-4.626.672a.25.25 0 00-.139.427l3.348 3.262a.25.25 0 01.072.222l-.79 4.607a.25.25 0 00.362.264l4.138-2.176a.25.25 0 01.233 0l4.137 2.175a.25.25 0 00.363-.263l-.79-4.607a.25.25 0 01.072-.222l3.347-3.262a.25.25 0 00-.139-.427l-4.626-.672a.25.25 0 01-.188-.137l-2.069-4.192a.25.25 0 00-.448 0L9.706 8.646zM12 7.39l-.948 1.921a1.75 1.75 0 01-1.317.957l-2.12.308 1.534 1.495c.412.402.6.982.503 1.55l-.362 2.11 1.896-.997a1.75 1.75 0 011.629 0l1.895.997-.362-2.11a1.75 1.75 0 01.504-1.55l1.533-1.495-2.12-.308a1.75 1.75 0 01-1.317-.957L12 7.39z",clipRule:"evenodd"})}),c=(0,i.jsx)(n.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)(n.Path,{d:"M12 4c-4.4 0-8 3.6-8 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8Zm3.8 10.7-1.1 1.1-2.7-2.7-2.7 2.7-1.1-1.1 2.7-2.7-2.7-2.7 1.1-1.1 2.7 2.7 2.7-2.7 1.1 1.1-2.7 2.7 2.7 2.7Z"})});const m="webmention/rsvp",u=[{value:"yes",label:(0,a.__)("Yes","webmention"),icon:s},{value:"no",label:(0,a.__)("No","webmention"),icon:w},{value:"maybe",label:(0,a.__)("Maybe","webmention"),icon:r},{value:"interested",label:(0,a.__)("Interested","webmention"),icon:v}];(0,e.registerFormatType)(m,{title:"RSVP",tagName:"data",className:"p-rsvp",attributes:{value:"value"},edit:({isActive:n,value:s,onChange:w})=>{const[r,v]=(0,l.useState)(!1),d=function(t){const l=(0,e.getActiveFormat)(t,m);return l?.attributes?.value?l.attributes.value:l?.unregisteredAttributes?.value?l.unregisteredAttributes.value:""}(s),p=u.find(e=>e.value===d),b=p?`RSVP: ${p.label}`:"RSVP";return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.RichTextToolbarButton,{icon:"calendar-alt",title:b,onClick:()=>v(!r),isActive:n}),r&&(0,i.jsx)(o.Popover,{className:"webmention-rsvp-popover",position:"bottom center",onClose:()=>v(!1),children:(0,i.jsxs)("div",{className:"webmention-rsvp-popover__buttons",children:[u.map(t=>(0,i.jsx)(o.Button,{icon:t.icon,label:t.label,showTooltip:!0,isPressed:d===t.value,onClick:()=>{w((0,e.applyFormat)(s,{type:m,attributes:{value:t.value}})),v(!1)}},t.value)),n&&(0,i.jsx)(o.Button,{icon:c,label:(0,a.__)("Remove","webmention"),showTooltip:!0,onClick:()=>{w((0,e.removeFormat)(s,m)),v(!1)}})]})})]})}})})();